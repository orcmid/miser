<!-- m230900.md 0.0.3               UTF-8                         2025-09-18
     ----1----|----2----|----3----|----4----|----5----|----6----|----7----|--*
     source <https://github.com/orcmid/miser/blob/master/docs/obapx/index.md>
     publication <https://orcmid.github.io/miser/obapx/>
     -->
<table border="0" width="100%">
  <tr>
    <td width="25%" align="left" height="6">
       <a href="../../" title="The Miser Project on GitHub">
       <img src="../../../images/misertheory-logo.png" /></a>
    </td>
       <td width="48%" height="6"><p align="center"><font color="#990033"><strong>
	<i><a href="../../m000001#m240900">m230900 oMiser Technical Note</a></i><br />
    <i><big><big>HashFlags Technique</big></big></i></strong></font></p>
    </td>
    <td width="27%" height="6" valign="middle" align="right">
      <b><code>
	  <a href="../../../" target="_top">miser</a>&gt;
      <a href="../../" target="_top">oMiser</a>&gt;
      </code></b>
      <br /><br />
      <a href="https://clustrmaps.com/site/1bw9w" title="Visit tracker">
            <img src="//www.clustrmaps.com/map_v2.png?d=3-2eQV4fOuelVHp_YtztZ0hl9Uj4ei9zLKw_nRgCgyM&cl=ffffff" />
      </a>
      <br /><br />
      <b><code>
         <a href="index.html" target="_top">index</a>&gt;</code></b>
      <br />
      <small><small>
        0.0.3 2025-09-18T19:48Z<!-- MAINTAIN THIS MANUALLY -->
      </small></small>
      </td>
  </tr>
</table>

In the *tentative* x64 ob-cell storage structure for every Ob, there is a
64-bit (8-byte) word containing a 56-bit (7-byte) Hash value and an 8-bit
(1-byte) Flag field. The combination is designated as the HashFlags field of
the ob-cell.

When two addresses of ob-cells are the same, the represented obs are
necessarily the same.

When two ob-cells are in different locations *and* their HashFlags are
different, the ob-cell-represented obs are different.

When two ob-cells are in different locations *but* their HashFlags are the
same, they must be examined further to determine if they are different despite
having the same HashFlags.

There are a number of useful invariants:

- The Flag field is an invariant of the structural properties of an ob. When
HashFlags are the same, the compared ob-cells have identical Flag fields.

- Individuals are never duplicated.  Two references to ob-cells that are
known to be for individuals will be to different individuals if the ob-cell
locations are different, despite any collision of Hash Values.

- Hash values are not based on locations or other characteristics of ob-cells
apart from the structural characteristics of the ob and the determination of
hash values for individuals from known information (such as a lindy's name)

There are also questions to be resolved, requiring both analysis and
experimentation, perhaps by instrumentation of the oMiser implementation.

- What is an usable but simple hashing algorithm for for the Hash of a pair
from the HashFlags of the components?

- Is a 24-bit (3-byte) or 32-bit (4-byte) Hash field good enough?  Having at
least 24 bits unassigned provides space for reference counting as and
alternative to garbage collection.

- Is a 24-bit (3-byte) field adequate for an optional reference count? (A
collateral question as part of keeping x64 ob-cells to 4 64-bit words)

- When recursive descent is required to confirm or refute the matching of
HashFlags, the process repeats so long as HashFlag matching continues. At
each level where matching of different ob-cells is confirmed, there may be
opportunity to replace the reference to one with a reference to the other.
The advantage is potential release of some ob-cells and improvement of future
comparisons by having more locations match. The question is whether this is
worth the additional processing on those occasions, and whether even checking
for it is worthwhile in what we want to have be a very rapid process.

## Folio Catalog

This placeholder links to raw materials and notes, including text files.
There will be organized folios of content as this topic is explored in
detail.

| **ID**                    | **Status**   | **Started** | **Topic** |
|   :-:                     |   :-:        |  :-:        |  ---  |
|                           |              |             |       |
| [m230900a](m230900a.htm)  | undated      | 2025-09-16  | Notes & Work Items |


----

I invite discussion about Miser Project topics in the
[Discussion section](https://github.com/orcmid/miser/discussions).
Improvements and removal of defects in this particular documentation can be
reported and addressed in the
[Issues section](https://github.com/orcmid/miser/issues).  There are also
relevant [projects](https://github.com/orcmid/miser/projects?type=classic)
from time to time.

<table border="0" cellspacing="3" width="100%">
  <tr>
    <td width="14%">
	<a href="index.htm" target="_top">
       <img border="0" src="../images/hardhat-thumb.gif" alt="Hard Hat Area"
            align="left" width="80" height="57">
       </a>
    </td>
    <td width="54%" valign="middle" align="center">
      You are navigating the <a href="../">Miser Project on Github</a></td>
    <td width="30%">
      <p align="right"><font size="-2">created 2025-09-14 by
         <a target="_top" href="../../orcmid">orcmid</a> </font></p>
    </td>
  </tr>
</table>
<!--

  0.0.3  2025-09-18T19:48Z Correct the title block text and links
  0.0.2  2025-09-18T00:52Z Complete the overview
  0.0.1  2025-09-16T22:04Z Identify and provide initial draft skeleton
  0.0.0  2025-09-14T21:44Z Initial placeholder from hybridForm boilerplate


               *** end of oMiser/2023/09/m230900.md/ ***                  -->
